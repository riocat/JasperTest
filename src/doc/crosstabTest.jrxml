<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="crosstabTest" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="5fd23c70-d9f4-4d4a-90c0-7e6c39d977fb">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="Crosstab Data Text" hAlign="Center"/>
	<queryString>
		<![CDATA[SELECT
	mr.repertory_name 仓库名称,
	so.goods_name 货品名称,
	SUM(so.num) 货品数量
FROM
	my_repertory mr
LEFT JOIN my_goods_details_info_so so ON mr.objuid = so.repertory_code
GROUP BY
	mr.objuid,
	so.goods_code
ORDER BY
	mr.repertory_code]]>
	</queryString>
	<field name="仓库名称" class="java.lang.String"/>
	<field name="货品名称" class="java.lang.String"/>
	<field name="货品数量" class="java.math.BigDecimal"/>
	<title>
		<band height="59" splitType="Stretch">
			<staticText>
				<reportElement x="358" y="29" width="100" height="20" uuid="d1f02ccb-10ee-45ff-808e-ea18ca467272"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="宋体" size="14" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[交叉报表]]></text>
			</staticText>
		</band>
	</title>
	<summary>
		<band height="167" splitType="Stretch">
			<crosstab>
				<reportElement x="299" y="17" width="372" height="135" uuid="f9cca6bf-c68f-4241-b6c7-211b45d90525"/>
				<rowGroup name="货品名称" width="70" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{货品名称}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents backcolor="#F0F8FF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Crosstab Data Text" x="0" y="0" width="70" height="25" uuid="efc2135b-5808-43d2-94f5-b41322aa4067"/>
								<textElement>
									<font fontName="宋体" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{货品名称}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents backcolor="#BFE1FF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement x="0" y="0" width="70" height="25" uuid="27dc8bff-b3e4-4eee-9969-a86ade925e44"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="宋体" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
								</textElement>
								<text><![CDATA[仓库货品合计]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalRowHeader>
				</rowGroup>
				<columnGroup name="仓库名称" height="30" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{仓库名称}]]></bucketExpression>
					</bucket>
					<crosstabColumnHeader>
						<cellContents backcolor="#F0F8FF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="30" uuid="ee508a04-b735-48f3-af66-26c57f2905cc"/>
								<textElement>
									<font fontName="宋体" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{仓库名称}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabColumnHeader>
					<crosstabTotalColumnHeader>
						<cellContents backcolor="#BFE1FF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement x="0" y="0" width="50" height="30" uuid="81dfa34d-6467-4f14-bb95-fb18ed719211"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="宋体" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
								</textElement>
								<text><![CDATA[货品合计]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalColumnHeader>
				</columnGroup>
				<measure name="货品数量Measure" class="java.math.BigDecimal" calculation="Sum">
					<measureExpression><![CDATA[$F{货品数量}]]></measureExpression>
				</measure>
				<crosstabCell width="50" height="25">
					<cellContents>
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="25" uuid="898d5ae3-bbcc-4a22-b133-e4512d161e63"/>
							<textElement>
								<font fontName="宋体" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{货品数量Measure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell height="25" rowTotalGroup="货品名称">
					<cellContents backcolor="#BFE1FF" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="25" uuid="55269555-b2df-4ae9-ba1f-a7c8f02ea630"/>
							<textElement>
								<font fontName="宋体" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{货品数量Measure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="50" columnTotalGroup="仓库名称">
					<cellContents backcolor="#BFE1FF" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="25" uuid="a012313b-b77c-4367-be49-1dc419b06667"/>
							<textElement>
								<font fontName="宋体" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{货品数量Measure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell rowTotalGroup="货品名称" columnTotalGroup="仓库名称">
					<cellContents backcolor="#BFE1FF" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="25" uuid="481e5a8e-3d67-4f0a-9037-d9c50df2833a"/>
							<textElement>
								<font fontName="宋体" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{货品数量Measure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
			</crosstab>
		</band>
	</summary>
</jasperReport>
